<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Generates synthetic version(s) of a data set. Function syn.strata() 
  performs stratified synthesis."><title>Generating synthetic data sets — syn • synthpop</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generating synthetic data sets — syn"><meta property="og:description" content="Generates synthetic version(s) of a data set. Function syn.strata() 
  performs stratified synthesis."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">synthpop</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8-2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generating synthetic data sets</h1>
      
      <div class="d-none name"><code>syn.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates synthetic version(s) of a data set. Function <code>syn.strata()</code> 
  performs stratified synthesis.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">syn</span><span class="op">(</span><span class="va">data</span>, method <span class="op">=</span> <span class="st">"cart"</span>, visit.sequence <span class="op">=</span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    predictor.matrix <span class="op">=</span> <span class="cn">NULL</span>,  </span>
<span>    m <span class="op">=</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>, proper <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>    minnumlevels <span class="op">=</span> <span class="fl">1</span>, maxfaclevels <span class="op">=</span> <span class="fl">60</span>, </span>
<span>    rules <span class="op">=</span> <span class="cn">NULL</span>, rvalues <span class="op">=</span> <span class="cn">NULL</span>, </span>
<span>    cont.na <span class="op">=</span> <span class="cn">NULL</span>, semicont <span class="op">=</span> <span class="cn">NULL</span>, </span>
<span>    smoothing <span class="op">=</span> <span class="cn">NULL</span>, event <span class="op">=</span> <span class="cn">NULL</span>, denom <span class="op">=</span> <span class="cn">NULL</span>, </span>
<span>    drop.not.used <span class="op">=</span> <span class="cn">FALSE</span>, drop.pred.only <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>    default.method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"normrank"</span>, <span class="st">"logreg"</span>, <span class="st">"polyreg"</span>, <span class="st">"polr"</span><span class="op">)</span>,</span>
<span>    numtocat <span class="op">=</span> <span class="cn">NULL</span>, catgroups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">numtocat</span><span class="op">)</span><span class="op">)</span>, </span>
<span>    models <span class="op">=</span> <span class="cn">FALSE</span>, print.flag <span class="op">=</span> <span class="cn">TRUE</span>, seed <span class="op">=</span> <span class="st">"sample"</span>, <span class="va">...</span><span class="op">)</span></span>
<span>    </span>
<span><span class="fu">syn.strata</span><span class="op">(</span><span class="va">data</span>, strata <span class="op">=</span> <span class="cn">NULL</span>, </span>
<span>    minstratumsize <span class="op">=</span> <span class="fl">10</span> <span class="op">+</span> <span class="fl">10</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">visit.sequence</span><span class="op">)</span>,  </span>
<span>    tab.strataobs <span class="op">=</span> <span class="cn">TRUE</span>, tab.stratasyn <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"cart"</span>, visit.sequence <span class="op">=</span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    predictor.matrix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    m <span class="op">=</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>, proper <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>    minnumlevels <span class="op">=</span> <span class="fl">1</span>, maxfaclevels <span class="op">=</span> <span class="fl">60</span>, </span>
<span>    rules <span class="op">=</span> <span class="cn">NULL</span>, rvalues <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    cont.na <span class="op">=</span> <span class="cn">NULL</span>, semicont <span class="op">=</span> <span class="cn">NULL</span>, </span>
<span>    smoothing <span class="op">=</span> <span class="cn">NULL</span>, event <span class="op">=</span> <span class="cn">NULL</span>, denom <span class="op">=</span> <span class="cn">NULL</span>, </span>
<span>    drop.not.used <span class="op">=</span> <span class="cn">FALSE</span>, drop.pred.only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    default.method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"normrank"</span>, <span class="st">"logreg"</span>, <span class="st">"polyreg"</span>, <span class="st">"polr"</span><span class="op">)</span>,</span>
<span>    numtocat <span class="op">=</span> <span class="cn">NULL</span>, catgroups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">numtocat</span><span class="op">)</span><span class="op">)</span>, </span>
<span>    models <span class="op">=</span> <span class="cn">FALSE</span>, print.flag <span class="op">=</span> <span class="cn">TRUE</span>, seed <span class="op">=</span> <span class="st">"sample"</span>, <span class="va">...</span><span class="op">)</span>    </span>
<span>   </span>
<span><span class="co"># S3 method for synds</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>a data frame or a matrix (<code>n</code> x <code>p</code>) containing the 
     original data. Observations are in rows and variables are in columns.</p></dd>

  <dt>method</dt>
<dd><p>a single string or a vector of strings of length
     <code>ncol(data)</code> specifying the synthesising method to be
     used for each variable in the data. Order of variables is exactly the
     same as in <code>data</code>. If specified as a single string, the same method
     is used for all variables in a visit sequence unless a data type or
     a position in a visit sequence requires a different method. 
     If <code>method</code> is set to <code>"parametric"</code> the
     default synthesising method specified by the <code>default.method</code> argument
     are applied. Variables that are transformations of other variables can
     be synthesised using a passive method that is specified as a string 
     starting with <code>~</code> (see <code><a href="syn.passive.html">syn.passive</a></code>). Variables that need 
     not to be synthesised have the empty method <code>""</code>. By default all 
     variables are synthesised using <code>"cart"</code> method, which is 
     <code>rpart</code> implementation of a CART model (see <code><a href="syn.cart.html">syn.cart</a></code>). 
     See details for more information on method.</p></dd>

  <dt>visit.sequence</dt>
<dd><p>a character vector of names of variables or an integer 
     vector of their column indices specifying the order of synthesis.
     The default sequence <code>1:ncol(data)</code> implies that column variables are
     synthesised from left to right. See details for more information.</p></dd>

  <dt>predictor.matrix</dt>
<dd><p>a square matrix of size <code>ncol(data)</code> specifying
     the set of column predictors to be used for each target variable in the row.
     Each entry has value 0 or 1. A value of 1 means that the column
     variable is used as a predictor for the row variable. Order of
     variables is exactly the same as in <code>data</code>. By default all
     variables that are earlier in the visit sequence are used as predictors.
     For the default visit sequence (<code>1:ncol(data)</code>) the default
     <code>predictor.matrix</code> will have values of 1 in the lower triangle.
     See details for more information.</p></dd>

  <dt>m</dt>
<dd><p>number of synthetic copies of the original (observed) data to be 
     generated. The default is <code>m = 1</code>.</p></dd>

  <dt>k</dt>
<dd><p>a size of the synthetic data set (<code>k x p</code>),
     which can be smaller or greater than the size of the original data 
     set (<code>n x p</code>). The default is <code>nrow(data)</code> which means 
     that the number of individuals in the synthesised data is the same 
     as in the original (observed) data (<code>k = n</code>).</p></dd>

  <dt>proper</dt>
<dd><p>a logical value with default set to <code>FALSE</code>. 
     If <code>TRUE</code> proper synthesis is conducted.</p></dd>

  <dt>minnumlevels</dt>
<dd><p>a minimum number of values a numeric variable should exceed
     to be treated as numeric during the synthesis. Numeric variables with only 
     <code>minnumlevels</code> or fewer distinct values are changed into factors. 
     If set to <code>1</code> (default) numeric variables are left unchanged unless 
     they have only one non-missing value.</p></dd>
  
  <dt>maxfaclevels</dt>
<dd><p>a maximum number of factor levels that can be handled.
     It can be increased to allow the synthesis to run but too large a value may
     cause computational problems, especially for parametric methods.</p></dd>

  <dt>rules</dt>
<dd><p>a named list of rules for restricted values. Restricted values 
     are those that are determined explicitly by values of other variables.
     The names of the list elements must correspond to the variables names for 
     which the rules need to be specified.</p></dd>

  <dt>rvalues</dt>
<dd><p>a named list of the values corresponding to the rules
     specified by <code>rules</code>.</p></dd>

  <dt>cont.na</dt>
<dd><p>a named list of codes for missing values for continuous
     variables if different from the <code>R</code> missing data code <code>NA</code>.
     The names of the list elements must correspond to the variables names for 
     which the missing data codes need to be specified.</p></dd>

  <dt>semicont</dt>
<dd><p>a named list of values at which semi-continuous
     variables have spikes. The names of the list elements must correspond 
     to the names of the semi-continuous variables.</p></dd>
     
  <dt>smoothing</dt>
<dd><p>a single string specifying a smoothing method for all numeric 
     variables in the data or a named list specifying a smoothing method to be 
     used for selected variables. Avaliable methods include: <code>"spline"</code> 
     (recommended), <code>"rmean"</code>, <code>"density"</code>, and <code>""</code>).
     Smoothing can only be applied to continuous variables synthesised using 
     <code>sample</code>, <code>ctree</code>, <code>cart</code>, <code>rf</code>, <code>bag</code>, 
     <code>ranger</code>, <code>normrank</code>, <code>pmm</code> or <code>nested</code> method. 
     The names of the list elements must correspond to the names of the 
     variables whose values are to be smoothed. Smoothing is applied to the 
     synthesised values. For more details see <code><a href="syn.smooth.html">syn.smooth</a></code>.</p></dd>

  <dt>event</dt>
<dd><p>a named list specifying for survival data the names of 
     corresponding event indicators. The names of the list elements 
     must correspond to the names of the survival variables.</p></dd>

  <dt>denom</dt>
<dd><p>a named list specifying for variables to be modelled using 
     binomial regression the names of corresponding denominator variables. 
     The names of the list elements must correspond to the names of the 
     variables to be modelled using binomial regression.</p></dd>

  <dt>drop.not.used</dt>
<dd><p>a logical value. If <code>TRUE</code> (default) variables not 
     used in synthesis are not saved in the synthesised data and are not 
     included in the corresponding synthesis parameters.</p></dd>

  <dt>drop.pred.only</dt>
<dd><p>a logical value. If <code>TRUE</code> (default) variables not 
     synthesised and used as predictors only are not saved in the synthesised 
     data.</p></dd>

  <dt>default.method</dt>
<dd><p>a vector of four strings containing the default
     parametric synthesising methods for numerical variables, factors 
     with two levels, unordered factors with more than two levels 
     and ordered factors with more than two levels respectively. 
     They are used when <code>method</code> is set to <code>"parametric"</code> or 
     when there is an inconsistency between variable type and provided method.</p></dd>

  <dt>numtocat</dt>
<dd><p>a vector of numbers or names to indicate columns of <code>data</code>
    that are to be divided into groups to allow the grouped variables to be 
    synthesised as factors. The target number of groups for each variable is 
    specified by <code>catgroups</code>. After the grouped variables have been synthesised 
    the  numeric variables are synthesised from them by the method <code>syn.nested</code> 
    and are placed in the same position in the synthetic data as in the original. 
    The grouped variables are not stored in the synthetic data. If you want to keep
    the categorised values you should change the relevant variables in <code>data</code> 
    before running <code>syn()</code> with the function <code><a href="numtocat.syn.html">numtocat.syn()</a></code></p></dd>

  <dt>catgroups</dt>
<dd><p>An integer or a vector of integers of the same length as
    <code>numtocat</code> giving the target number of groups into which of the
    numeric variables is to be categorised. The function <code>group_var</code>
    from the <code>classInt</code> package performs the categorisation.</p></dd>

  <dt>models</dt>
<dd><p>if <code>TRUE</code> parameters of models fitted to the original data 
     and used to generate the synthetic values are stored.</p></dd>

  <dt>print.flag</dt>
<dd><p>if <code>TRUE</code> (default) synthesising history and 
     information messages will be printed at the console. For silent 
     computation use <code>print.flag = FALSE</code>.</p></dd>

  <dt>seed</dt>
<dd><p>an integer to be used as an argument for the <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code>.
     If no integer is provided, the default <code>"sample"</code> will generate one
     and it will be stored. To prevent generating an integer set <code>seed</code>
     to <code>NA</code>.</p></dd>

  <dt>...</dt>
<dd><p>additional arguments to be passed to synthesising functions. See 
     section 'Details' below for more information.</p></dd>

  <dt>strata</dt>
<dd><p>a numeric vector with strata identifiers or a string vector with 
     names of stratifying variable(s).</p></dd>
 
  <dt>minstratumsize</dt>
<dd><p>minimum size of each stratum.</p></dd>
    
  <dt>tab.strataobs</dt>
<dd><p>a logical value indicating whether a frequency table of
     the number of observations in strata in the original data set should be 
     printed.</p></dd>
   
  <dt>tab.stratasyn</dt>
<dd><p>a logical value indicating whether a frequency table of
     the number of observations in strata in the synthetic data set(s) should 
     be printed.</p></dd>
           
  <dt>x</dt>
<dd><p>an object of class <code>synds</code>; a result of a call to <code>syn()</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Only variables that are in <code>visit.sequence</code> with corresponding non-empty 
 <code>method</code> are synthesised. The only exceptions are event indicators. They 
 are synthesised along with the corresponding time to event variables and should
 not be included in <code>visit.sequence</code>. All other variables (not in 
 <code>visit.sequence</code> or in <code>visit.sequence</code> with a corresponding blank 
 method) can be used as predictors. Including them in <code>visit.sequence</code> 
 generates a default <code>predictor.matrix</code> reflecting the order of variables 
 in the <code>visit.sequence</code> otherwise <code>predictor.matrix</code> has to be 
 adjusted accordingly. All predictors of the variables that are not in
 <code>visit.sequence</code> or are in <code>visit.sequence</code> but with a blank method
 are removed from <code>predictor.matrix</code>.</p>
<p>Variables to be synthesised that are not synthesised yet cannot be used
 as predictors. Also all variables used in passive synthesis or in restricted
 values rules (<code>rules</code>) have to be synthesised before the variables they
 apply to.</p>
<p>Mismatch between data type and synthesising method stops execution and
 print an error message but numeric variables with number of levels less
 than <code>minnumlevels</code> are changed into factors and methods are changed
 automatically, if necessary, to methods for categorical variables. 
 Methods for variables not in a visit sequence will be changed into blank.</p>
<p>The built-in elementary synthesising methods defined by conditional 
 distributions include:</p><dl><dt>ctree, cart</dt>
<dd><p>classification and regression trees (CART), 
     see <code><a href="syn.cart.html">syn.cart</a></code></p></dd>

   <dt>bagging, random forests, ranger</dt>
<dd><p>methods using ensembles of CART trees, 
     see <code><a href="syn.bag.html">syn.bag</a></code>, <code><a href="syn.rf.html">syn.rf</a></code>, and <code><a href="syn.ranger.html">syn.ranger</a></code></p></dd>

   <dt>survctree</dt>
<dd><p>classification and regression trees (CART)
     for duration time data (parametric methods for survival data are 
     not implemented yet),  see <code><a href="syn.survctree.html">syn.survctree</a></code></p></dd>

   <dt>norm</dt>
<dd><p>normal linear regression, see <code><a href="syn.norm.html">syn.norm</a></code></p></dd>

   <dt>normrank</dt>
<dd><p>normal linear regression preserving the marginal 
     distribution, see <code><a href="syn.normrank.html">syn.normrank</a></code></p></dd>

   <dt>lognorm, sqrtnorm, cubertnorm</dt>
<dd><p>normal linear regression after 
     natural logarithmic, square root and cube root transformation of 
     a dependent variable respectively, see <code><a href="syn.lognorm.html">syn.lognorm</a></code></p></dd>
 
   <dt>logreg</dt>
<dd><p>logistic regression, see  <code><a href="syn.logreg.html">syn.logreg</a></code></p></dd>

   <dt>polyreg</dt>
<dd><p>unordered polytomous regression, see 
     <code><a href="syn.polyreg.html">syn.polyreg</a></code></p></dd>

   <dt>polr</dt>
<dd><p>ordered polytomous regression, see <code><a href="syn.polr.html">syn.polr</a></code></p></dd>

   <dt>pmm</dt>
<dd><p>predictive mean matching, see <code><a href="syn.pmm.html">syn.pmm</a></code></p></dd>

   <dt>sample</dt>
<dd><p>random sample from the observed data, 
     see <code><a href="syn.sample.html">syn.sample</a></code></p></dd>

   <dt>passive</dt>
<dd><p>function of other synthesised data,  
     see <code><a href="syn.passive.html">syn.passive</a></code></p></dd>

   <dt>nested</dt>
<dd><p>bootstrap sample within each category of the original 
     grouping variable, see <code><a href="syn.nested.html">syn.nested</a></code></p></dd>

   <dt>satcat</dt>
<dd><p>bootstrap sample within each category of the 
     crosstabulation of all the predictor variables, 
     see <code><a href="syn.satcat.html">syn.satcat</a></code></p></dd>

  
</dl><p>These methods use a group of variables that are synthesised together. 
  They must always be together at the start of the visit sequence:</p><dl><dt>catall</dt>
<dd><p>fit a saturated log-linear model,
     see <code><a href="syn.catall.html">syn.catall</a></code></p></dd>

   <dt>ipf</dt>
<dd><p>fit a log-linear model, defined by its margins, by iterative 
   proportional fitting  see <code><a href="syn.ipf.html">syn.ipf</a></code></p></dd>

 
</dl><p>The functions corresponding to these methods are called <code>syn.method</code>, 
 where <code>method</code> is a string with the name of a synthesising method. 
 For instance a function corresponding to <code>ctree</code> function is called
 <code>syn.ctree</code>. A new synthesising method can be introduced by writing 
 a function named <code>syn.newmethod</code> and then specifying <code>method</code> 
 parameter of <code>syn()</code> function as <code>"newmethod"</code>.</p> 
<p>In order to use <code>"nested"</code> sampling, <code>method</code> parameter of <code>syn</code> 
 function has to be specified as <code>"nested.varname"</code>, where <code>"varname"</code>
 is the name of the grouped (less detailed) variable, the only one used in 
 nested synthesis. A variable synthesised using <code>"nested"</code> method is 
 excluded from synthesising other variables except when used for <code>"nested"</code> 
 method.</p> 
<p>Additional parameters can be passed to synthesising methods as part of the 
 <code>dots</code> argument. They have to be named using period-separated method and 
 parameter name (<code>method.parameter</code>). For instance, in order to set 
 a <code>minbucket</code> (minimum number of observations in any terminal node of 
 a CART model) for a <code>ctree</code> synthesising method, <code>ctree.minbucket</code>
 has to be specified. The parameters are method-specific and will be used for 
 all variables to be synthesised using that method. See help for 
 <code>syn.method</code> for further details about the allowed parameters for 
 a specific method.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></code> function (<code><a href="summary.synds.html">summary.synds</a></code>) can be used  
  to obtain a summary of the synthesised variables.</p>


<p>An object of class <code>synds</code>, which stands for 'synthesised 
  data set'. It is a list with the following components:</p>
<dl><dt>call</dt>
<dd><p>an original call to <code>syn()</code>.</p></dd>

  <dt>m</dt>
<dd><p>number of synthetic versions of the original (observed) data.</p></dd>

  <dt>syn</dt>
<dd><p>a data frame (for <code>m = 1</code>) or a list of <code>m</code> data frames 
    (for <code>m &gt; 1</code>) with synthetic data set(s).</p></dd>

  <dt>method</dt>
<dd><p>a vector of synthesising methods applied to each variable
     in the saved synthesised data.</p></dd>

  <dt>visit.sequence</dt>
<dd><p>a vector of column indices of the visiting sequence.
     The indices refer to the columns in the saved synthesised data.</p></dd>

  <dt>predictor.matrix</dt>
<dd><p>a matrix specifying the set of predictors used
     for each variable in the saved synthesised data.</p></dd>

  <dt>smoothing</dt>
<dd><p>a vector specifying smoothing methods 
     applied to each variable in the saved synthesised data.</p></dd>

  <dt>event</dt>
<dd><p>a vector of integers specifying for survival data the column 
     indices for corresponding event indicators. The indices refer to the 
     columns in the saved synthesised data.</p></dd>

  <dt>denom</dt>
<dd><p>a vector of integers specifying for variables modelled 
     using binomial regression the column indices for corresponding 
     denominator variables. The indices refer to the columns in the 
     saved synthesised data.</p></dd>

  <dt>proper</dt>
<dd><p>a logical value indicating whether proper synthesis was
     conducted.</p></dd>

  <dt>n</dt>
<dd><p>a number of cases in the original data.</p></dd>
  
  <dt>k</dt>
<dd><p>a number of cases in the synthesised data.</p></dd>

  <dt>rules</dt>
<dd><p>a list of rules for restricted values applied to the synthetic 
    data.</p></dd>

  <dt>rvalues</dt>
<dd><p>a list of the values corresponding to the rules
     specified by <code>rules</code>.</p></dd>

  <dt>cont.na</dt>
<dd><p>a list of codes for missing values for continuous variables.</p></dd>

  <dt>semicont</dt>
<dd><p>a list of values for semi-continuous variables at which they 
     have spikes.</p></dd>

  <dt>drop.not.used</dt>
<dd><p>a logical value indicating whether variables not used
     in synthesis are saved in the synthesised data and corresponding
     synthesis parameters.</p></dd>

  <dt>drop.pred.only</dt>
<dd><p>a logical value indicating whether variables not
     synthesised and used as predictors only are saved in the synthesised data.</p></dd>

  <dt>models</dt>
<dd><p>if <code>models = TRUE</code> a named list of estimates of models 
     fitted to the original data and used to generate the synthetic values is 
     returned from the <code>$fit</code> component of each method 
     (e.g. <code><a href="syn.cart.html">syn.cart()</a></code>). The list is ordered by the variables position 
     in the data, and any models used to predict missing values are appended 
     to the list.</p></dd>

  <dt>seed</dt>
<dd><p>an integer used as a <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> argument.</p></dd>
   
  <dt>var.lab</dt>
<dd><p>a vector of variable labels for data imported from SPSS using 
     <code><a href="read.obs.html">read.obs()</a></code>.</p></dd>
   
  <dt>val.lab</dt>
<dd><p>a list of value labels for factors for data imported from SPSS 
     using <code><a href="read.obs.html">read.obs()</a></code>.</p></dd>
       
  <dt>obs.vars</dt>
<dd><p>a vector of all variable names in the observed data set.</p></dd>


</dl><p>When <code>syn.strata()</code> is used there are two additiona components:</p>
<dl><dt>strata.syn</dt>
<dd><p>a factor variable or a list of factor variables containing 
     stratum values for all observation units in <code>syn</code>.</p></dd>

  <dt>strata.lab</dt>
<dd><p>a character vector of strata labels.</p></dd>


</dl><p>Note also that when <code>syn.strata</code> is used most values of the items are matrices 
with each row corresponding to a stratum or lists with one element per stratum.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>See package vignette for additional information.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Nowok, B., Raab, G.M and Dibben, C. (2016). synthpop: Bespoke
  creation of synthetic data in R. <em>Journal of Statistical Software</em>,
  <b>74</b>(11), 1-26. <a href="https://doi.org/10.18637/jss.v074.i11" class="external-link">doi:10.18637/jss.v074.i11</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="compare.synds.html">compare.synds</a></code>, <code><a href="summary.synds.html">summary.synds</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### selection of variables</span></span></span>
<span class="r-in"><span><span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>,<span class="st">"age"</span>,<span class="st">"marital"</span>,<span class="st">"income"</span>,<span class="st">"ls"</span>,<span class="st">"smoke"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ods</span>  <span class="op">&lt;-</span> <span class="va">SD2011</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, <span class="va">vars</span><span class="op">]</span></span></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="co">### default synthesis</span></span></span>
<span class="r-in"><span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu">syn</span><span class="op">(</span><span class="va">ods</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sex age marital income ls smoke</span>
<span class="r-in"><span><span class="va">s1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ($call) syn(data = ods)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of synthesised data sets: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ($m)  1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First rows of synthesised data set: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ($syn)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      sex age marital income               ls smoke</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 FEMALE  21  SINGLE     NA          PLEASED    NO</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   MALE  57 MARRIED   1700 MOSTLY SATISFIED    NO</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 FEMALE  32 MARRIED     -8 MOSTLY SATISFIED    NO</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   MALE  73 MARRIED   1500 MOSTLY SATISFIED    NO</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   MALE  69 MARRIED   1140 MOSTLY SATISFIED    NO</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 FEMALE  22  SINGLE     NA            MIXED    NO</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesising methods: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ($method)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      sex      age  marital   income       ls    smoke </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "sample"   "cart"   "cart"   "cart"   "cart"   "cart" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Order of synthesis: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ($visit.sequence)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     sex     age marital  income      ls   smoke </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1       2       3       4       5       6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matrix of predictors: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ($predictor.matrix)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         sex age marital income ls smoke</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sex       0   0       0      0  0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age       1   0       0      0  0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> marital   1   1       0      0  0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> income    1   1       1      0  0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ls        1   1       1      1  0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> smoke     1   1       1      1  1     0</span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co">### synthesis with default parametric methods</span></span></span>
<span class="r-in"><span><span class="va">s2</span> <span class="op">&lt;-</span> <span class="fu">syn</span><span class="op">(</span><span class="va">ods</span>, method <span class="op">=</span> <span class="st">"parametric"</span>, seed <span class="op">=</span> <span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sex age marital income ls smoke</span>
<span class="r-in"><span><span class="va">s2</span><span class="op">$</span><span class="va">method</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        sex        age    marital     income         ls      smoke </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "sample" "normrank"  "polyreg" "normrank"  "polyreg"  "polyreg" </span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co">### multiple synthesis of selected variables with customised methods</span></span></span>
<span class="r-in"><span><span class="va">s3</span> <span class="op">&lt;-</span> <span class="fu">syn</span><span class="op">(</span><span class="va">ods</span>, visit.sequence <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>, m <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>          method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"logreg"</span>,<span class="st">"sample"</span>,<span class="st">""</span>,<span class="st">"normrank"</span>,<span class="st">"ctree"</span>,<span class="st">""</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          ctree.minbucket <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable(s): marital, smoke not synthesised or used in prediction.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CAUTION: The synthesised data will contain the variable(s) unchanged.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis number 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  age sex income ls</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis number 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  age sex income ls</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">s3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthetic object with 2 syntheses using methods:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        sex        age    marital     income         ls      smoke </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "logreg"   "sample"         "" "normrank"    "ctree"         "" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary (average) for all synthetic data sets:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      sex           age                      marital        income       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MALE  :410   Min.   :16.00   SINGLE            :265   Min.   :   -8.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  FEMALE:590   1st Qu.:30.00   MARRIED           :581   1st Qu.:  700.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Median :47.00   WIDOWED           :103   Median : 1195.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Mean   :46.86   DIVORCED          : 41   Mean   : 1400.5  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               3rd Qu.:61.50   LEGALLY SEPARATED :  2   3rd Qu.: 1800.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Max.   :92.00   DE FACTO SEPARATED:  5   Max.   :15000.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               NA's              :  3   NA's   :  135.5  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    ls         smoke    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  DELIGHTED          : 38.5   YES :253  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  PLEASED            :368.5   NO  :745  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MOSTLY SATISFIED   :329.0   NA's:  2  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MIXED              :187.5             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MOSTLY DISSATISFIED: 57.5             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  UNHAPPY            : 10.0             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  TERRIBLE           :  9.0             </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">s3</span>, msel <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthetic object with 2 syntheses using methods:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        sex        age    marital     income         ls      smoke </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "logreg"   "sample"         "" "normrank"    "ctree"         "" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary for synthetic data set 1:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      sex           age                      marital        income     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MALE  :429   Min.   :16.00   SINGLE            :265   Min.   :   -8  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  FEMALE:571   1st Qu.:30.00   MARRIED           :581   1st Qu.:  700  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Median :46.00   WIDOWED           :103   Median : 1168  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Mean   :46.29   DIVORCED          : 41   Mean   : 1391  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               3rd Qu.:61.00   LEGALLY SEPARATED :  2   3rd Qu.: 1800  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Max.   :92.00   DE FACTO SEPARATED:  5   Max.   :15000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               NA's              :  3   NA's   :136    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    ls       smoke    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  DELIGHTED          : 40   YES :253  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  PLEASED            :364   NO  :745  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MOSTLY SATISFIED   :325   NA's:  2  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MIXED              :198             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MOSTLY DISSATISFIED: 58             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  UNHAPPY            :  5             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  TERRIBLE           : 10             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary for synthetic data set 2:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      sex           age                      marital        income     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MALE  :391   Min.   :16.00   SINGLE            :265   Min.   :   -8  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  FEMALE:609   1st Qu.:30.00   MARRIED           :581   1st Qu.:  700  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Median :48.00   WIDOWED           :103   Median : 1222  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Mean   :47.42   DIVORCED          : 41   Mean   : 1410  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               3rd Qu.:62.00   LEGALLY SEPARATED :  2   3rd Qu.: 1800  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Max.   :92.00   DE FACTO SEPARATED:  5   Max.   :15000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               NA's              :  3   NA's   :135    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    ls       smoke    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  DELIGHTED          : 37   YES :253  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  PLEASED            :373   NO  :745  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MOSTLY SATISFIED   :333   NA's:  2  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MIXED              :177             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MOSTLY DISSATISFIED: 57             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  UNHAPPY            : 15             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  TERRIBLE           :  8             </span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co">### adjustment to the default predictor matrix </span></span></span>
<span class="r-in"><span><span class="va">s4.ini</span> <span class="op">&lt;-</span> <span class="fu">syn</span><span class="op">(</span>data <span class="op">=</span> <span class="va">ods</span>, visit.sequence <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              m <span class="op">=</span> <span class="fl">0</span>, drop.not.used <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable(s): income, smoke not synthesised or used in prediction.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CAUTION: The synthesised data will contain the variable(s) unchanged.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="va">pM.cor</span> <span class="op">&lt;-</span> <span class="va">s4.ini</span><span class="op">$</span><span class="va">predictor.matrix</span></span></span>
<span class="r-in"><span><span class="va">pM.cor</span><span class="op">[</span><span class="st">"marital"</span>,<span class="st">"ls"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="va">s4</span> <span class="op">&lt;-</span> <span class="fu">syn</span><span class="op">(</span>data <span class="op">=</span> <span class="va">ods</span>, visit.sequence <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          predictor.matrix <span class="op">=</span> <span class="va">pM.cor</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable(s): income, smoke not synthesised or used in prediction.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CAUTION: The synthesised data will contain the variable(s) unchanged.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sex age ls marital</span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co">### handling missing values in continuous variables</span></span></span>
<span class="r-in"><span><span class="va">s5</span> <span class="op">&lt;-</span> <span class="fu">syn</span><span class="op">(</span><span class="va">ods</span>, cont.na <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>income <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="op">-</span><span class="fl">8</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sex age marital income ls smoke</span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co">### rules for restricted values - marital status of males under 18 should be 'single'</span></span></span>
<span class="r-in"><span><span class="va">s6</span> <span class="op">&lt;-</span> <span class="fu">syn</span><span class="op">(</span><span class="va">ods</span>, rules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>marital <span class="op">=</span> <span class="st">"age &lt; 18 &amp; sex == 'MALE'"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          rvalues <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>marital <span class="op">=</span> <span class="st">'SINGLE'</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"parametric"</span>, seed <span class="op">=</span> <span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sex age marital income ls smoke</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">s6</span><span class="op">$</span><span class="va">syn</span>, <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">marital</span><span class="op">[</span><span class="va">age</span> <span class="op">&lt;</span> <span class="fl">18</span> <span class="op">&amp;</span> <span class="va">sex</span> <span class="op">==</span> <span class="st">'MALE'</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             SINGLE            MARRIED            WIDOWED           DIVORCED </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 11                  0                  0                  0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  LEGALLY SEPARATED DE FACTO SEPARATED </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  0                  0 </span>
<span class="r-in"><span><span class="co">### results for default parametric synthesis without the rule  </span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">s2</span><span class="op">$</span><span class="va">syn</span>, <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">marital</span><span class="op">[</span><span class="va">age</span> <span class="op">&lt;</span> <span class="fl">18</span> <span class="op">&amp;</span> <span class="va">sex</span> <span class="op">==</span> <span class="st">'MALE'</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             SINGLE            MARRIED            WIDOWED           DIVORCED </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 10                  1                  0                  0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  LEGALLY SEPARATED DE FACTO SEPARATED </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  0                  0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### synthesis with ipf for all variables</span></span></span>
<span class="r-in"><span><span class="va">s7</span> <span class="op">&lt;-</span> <span class="fu">syn</span><span class="op">(</span><span class="va">ods</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, method <span class="op">=</span> <span class="st">"ipf"</span>, numtocat <span class="op">=</span> <span class="st">"age"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  The numeric variable(s): age</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  will been synthesised as grouped variables and their numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  values generated from boostrap samples within categories.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> All 3 variables in the data synthesised together by method 'ipf'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ['ipf' converged in 19 iterations]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### alternatively group the numeric variable before synthesis to save</span></span></span>
<span class="r-in"><span><span class="co">### the grouped data rather than the numeric in the synthetic data set</span></span></span>
<span class="r-in"><span><span class="va">ods.cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="numtocat.syn.html">numtocat.syn</a></span><span class="op">(</span><span class="va">ods</span>, numtocat <span class="op">=</span> <span class="st">"age"</span>, catgroups <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">$</span><span class="va">data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable(s) age grouped into categories.</span>
<span class="r-in"><span><span class="va">s8</span> <span class="op">&lt;-</span> <span class="fu">syn</span><span class="op">(</span><span class="va">ods.cat</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, method <span class="op">=</span> <span class="st">"ipf"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> All 3 variables in the data synthesised together by method 'ipf'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ['ipf' converged in 19 iterations]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### stratified synthesis</span></span></span>
<span class="r-in"><span><span class="va">s9</span> <span class="op">&lt;-</span> <span class="fu">syn.strata</span><span class="op">(</span><span class="va">ods</span>, strata <span class="op">=</span> <span class="st">"sex"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of observations in strata (original data):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   MALE FEMALE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    448    552 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> m = 1, strata = MALE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sample(s) of size 436 will be generated from original data of size 448.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable sex has only one value so its method has been changed to "constant".</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable sex removed as predictor because only one value.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Method "cart" is not valid for a variable without predictors (age)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Method has been changed to "sample"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sex age marital income ls smoke</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> m = 1, strata = FEMALE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sample(s) of size 564 will be generated from original data of size 552.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable sex has only one value so its method has been changed to "constant".</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable sex removed as predictor because only one value.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Method "cart" is not valid for a variable without predictors (age)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Method has been changed to "sample"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Synthesis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sex age marital income ls smoke</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Beata Nowok.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

